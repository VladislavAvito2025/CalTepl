<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ЛУКОМОРЬЕ</title>
    <style>
        /* Общие стили */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html, body {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
        }
        .container {
            width: 100%;
            max-width: 100%;
            padding: 16px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* Стили для поля ввода "Доставка" */
        #delivery {
            width: 50%;
            max-width: 300px;
            padding: 12px;
            margin-bottom: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background: #f9f9f9;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        #delivery:focus {
            border-color: #007BFF;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.2);
            background: #fff;
        }
        /* Стили для модального окна доставки */
        .delivery-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: flex-start;
        }
        .delivery-modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 300px;
            width: 100%;
            text-align: center;
            margin-top: 80px;
        }
        .delivery-modal-content input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .delivery-modal-content button {
            width: 100%;
            padding: 10px;
            background: #007BFF;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .delivery-modal-content button:hover {
            background: #0056b3;
        }

        /* Стили для блока "Итоговая стоимость" */
        .price {
            width: 50%; /* Уменьшаем ширину до 50% */
            max-width: 300px; /* Ограничиваем максимальную ширину */
            padding: 16px;
            margin-bottom: 16px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 20px;
            color: #333;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        h2 {
            color: #333;
            text-align: center;
            margin-bottom: 32px;
            font-size: 32px;
        }
        label {
            font-weight: bold;
            color: #555;
            display: block;
            margin-bottom: 8px;
        }
        select, input {
            width: 100%;
            padding: 12px;
            margin-bottom: 16px;
            border-radius: 8px;
            border: 1px solid #ddd;
            background: #f9f9f9;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        select:focus, input:focus {
            border-color: #007BFF;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.2);
            background: #fff;
        }
        button {
            width: 100%;
            max-width: 100%; /* Ограничиваем ширину кнопки */
            padding: 14px;
            margin-bottom: 16px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        button:hover {
            background: linear-gradient(135deg, #0056b3, #003d80);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .price {
            width: 100%;
            max-width: 100%; /* Ограничиваем ширину блока */
            padding: 16px;
            margin-bottom: 16px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 20px;
            color: #333;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        .additional-products {
            margin-top: 16px;
        }
        .additional-products .product {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .additional-products .product select,
        .additional-products .product input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        .additional-products .product .remove-btn {
            padding: 8px;
            background: linear-gradient(135deg, #ff4d4d, #cc0000);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            transition: all 0.3s ease;
        }
        .additional-products .product .remove-btn:hover {
            background: linear-gradient(135deg, #cc0000, #990000);
        }
        .additional-products .add-product-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .additional-products .add-product-btn:hover {
            background: linear-gradient(135deg, #0056b3, #003d80);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 500px;
            width: 100%;
            position: relative;
        }
        .modal-content .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content .copy-btn {
            width: 100%;
            background: #007BFF;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        .modal-content .copy-btn:hover {
            background: #0056b3;
        }
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }
        .password-modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 300px;
            width: 100%;
            position: relative;
            text-align: center;
        }
        .password-modal-content input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .password-modal-content button {
            width: 100%;
            padding: 10px;
            background: #007BFF;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .password-modal-content button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container" id="mainContent" style="display: none;">
        <h2>ЛУКОМОРЬЕ</h2>
        <form id="greenhouseConfigurator">
            <!-- Добавляем выбор города -->
            <label for="city">Город:</label>
            <select id="city" name="city" onchange="updateCity()">
                <option value="Москва">Москва</option>
                <option value="Санкт-Петербург">Санкт-Петербург</option>
                <option value="Белгород">Белгород</option>
                <option value="Великий Новгород">Великий Новгород</option>
                <option value="Владимир">Владимир</option>
                <option value="Вологда">Вологда</option>
                <option value="Воронеж">Воронеж</option>
                <option value="Екатеринбург">Екатеринбург</option>
                <option value="Иваново">Иваново</option>
                <option value="Йошкар-Ола">Йошкар-Ола</option>
                <option value="Казань">Казань</option>
                <option value="Калуга">Калуга</option>
                <option value="Кемерово">Кемерово</option>
                <option value="Кострома">Кострома</option>
                <option value="Краснодар">Краснодар</option>
                <option value="Курск">Курск</option>
                <option value="Липецк">Липецк</option>
                <option value="Майкоп">Майкоп</option>
                <option value="Набережные Челны">Набережные Челны</option>
                <option value="Нижний Новгород">Нижний Новгород</option>
                <option value="Новосибирск">Новосибирск</option>
                <option value="Орел">Орел</option>
                <option value="Рязань">Рязань</option>
                <option value="Ставрополь">Ставрополь</option>
                <option value="Тамбов">Тамбов</option>
                <option value="Тверь">Тверь</option>
                <option value="Тула">Тула</option>
                <option value="Ульяновск">Ульяновск</option>
                <option value="Чебоксары">Чебоксары</option>
                <option value="Челябинск">Челябинск</option>
                <option value="Черкесск">Черкесск</option>
                <option value="Ярославль">Ярославль</option>
            </select>
            
            <label for="type">Тип теплицы:</label>
            <select id="type" name="type" onchange="updateWidthOptions()">
                <option value="Арочная">Арочная</option>
                <option value="Прямостенная">Прямостенная</option>
                <option value="Каплевидная">Каплевидная</option>
                <option value="Домиком">Домиком</option>
            </select>

            <label for="width">Ширина:</label>
            <select id="width" name="width" onchange="updateFrameOptions()"></select>

            <label for="length">Длина:</label>
            <select id="length" name="length">
                <option value="4 м">4 м</option>
                <option value="6 м">6 м</option>
                <option value="8 м">8 м</option>
                <option value="10 м">10 м</option>
                <option value="12 м">12 м</option>
            </select>

            <label for="frame">Каркас:</label>
            <select id="frame" name="frame"></select>

            <label for="polycarbonate">Тип поликарбоната:</label>
            <select id="polycarbonate" name="polycarbonate">
                <option value="Поликарбонат Стандарт 4мм">Поликарбонат Стандарт 4мм</option>
                <option value="Поликарбонат Люкс 4мм">Поликарбонат Люкс 4мм</option>
                <option value="Поликарбонат Премиум 6мм">Поликарбонат Премиум 6мм</option>
                <option value="Без поликарбоната">Без поликарбоната</option>
            </select>

            <label for="arcStep">Шаг дуги:</label>
            <select id="arcStep" name="arcStep">
                <option value="1">1 м</option>
                <option value="0.65">0.65 м (+25%)</option>
            </select>

            <label for="foundation">Фундамент:</label>
            <select id="foundation" name="foundation">
                <option value="Брус">Брус</option>
                <option value="Сваи">Сваи</option>
                <option value="Без фундамента" selected>Без фундамента</option>
            </select>

            <label for="assembly">Сборка:</label>
            <select id="assembly" name="assembly">
                <option value="Наша сборка">Наша сборка</option>
                <option value="Без сборки" selected>Без сборки</option>
            </select>

            <label for="delivery">Доставка (км):</label>
            <input
                type="text"
                id="delivery"
                name="delivery"
                placeholder="Введите расстояние"
                readonly
                onclick="showDeliveryModal()"
            >

            <div class="additional-products">
                <div class="form-group param">
                    <label>Дополнительные товары:</label>
                    <div id="products-list"></div>
                    <button class="add-product-btn" type="button" onclick="addProduct()">+ Добавить товар</button>
                </div>
            </div>

            <button type="button" onclick="calculatePrice()">Рассчитать стоимость</button>
        </form>
        <!-- Кнопка и блок "Итоговая стоимость" -->
            <div class="price" id="totalPrice" onclick="showModal()">Итоговая стоимость: 0 руб</div>
    </div>

    <!-- Модальное окно для ввода расстояния доставки -->
    <div class="delivery-modal" id="deliveryModal">
        <div class="delivery-modal-content">
            <h3>Введите расстояние доставки (км)</h3>
            <input type="number" id="deliveryInput" placeholder="Расстояние" min="0">
            <button onclick="setDelivery()">ОК</button>
        </div>
    </div>

    <!-- Модальное окно для пароля -->
    <div class="password-modal" id="passwordModal">
        <div class="password-modal-content">
            <h3>Введите пароль</h3>
            <input type="password" id="passwordInput" placeholder="Пароль">
            <button onclick="checkPassword()">Войти</button>
        </div>
    </div>

    <!-- Модальное окно для итоговой стоимости -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">×</button>
            <div id="modalText"></div>
            <button class="copy-btn" onclick="copyText()">Скопировать текст</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram?.WebApp;

        // Расширяем приложение на весь экран (если доступно)
        if (tg) {
            tg.expand();
            tg.ready(); // Уведомляем Telegram, что приложение готово
        }

        // Запрет горизонтальной прокрутки на touch-устройствах
        document.addEventListener('touchmove', function (event) {
            if (event.touches.length === 1) {
                const touch = event.touches[0];
                const scrollable = touch.clientX > window.innerWidth * 0.1 && touch.clientX < window.innerWidth * 0.9;
                if (!scrollable) {
                    event.preventDefault(); // Запрещаем горизонтальную прокрутку
                }
            }
        }, { passive: false });

         // Функция для отображения модального окна доставки
         function showDeliveryModal() {
            const deliveryModal = document.getElementById('deliveryModal');
            deliveryModal.style.display = 'flex';
        }

        // Функция для установки значения доставки
        function setDelivery() {
            const deliveryInput = document.getElementById('deliveryInput');
            const deliveryField = document.getElementById('delivery');
            deliveryField.value = deliveryInput.value;
            document.getElementById('deliveryModal').style.display = 'none';
        }
        
        

        const widthOptions = {
            "Арочная": ["2.5 м", "3 м", "3.5 м", "4 м"],
            "Прямостенная": ["2.5 м", "3 м", "3.5 м", "4 м"],
            "Каплевидная": ["2.5 м", "3 м", "3.5 м"],
            "Домиком": ["2.5 м", "3 м", "3.5 м", "4 м"]
        };

        const frameOptions = {
            "Арочная": ["20х20", "40х20", "20х20 + 20х20", "40х20 + 20х20"],
            "Прямостенная": ["40х20", "40х20 + 20х20"],
            "Каплевидная": ["40х20"],
            "Домиком": ["40х20", "40х20 + 20х20"]
        };

        const tiesData = {
            "Арочная": { "2.5 м": 5, "3 м": 5, "3.5 м": 5, "4 м": 9 },
            "Прямостенная": { "2.5 м": 7, "3 м": 7, "3.5 м": 7, "4 м": 9 },
            "Каплевидная": { "2.5 м": 6, "3 м": 6, "3.5 м": 8 },
            "Домиком": { "2.5 м": 6, "3 м": 6, "3.5 м": 6, "4 м": 8 }
        };

        const snowLoadData = {
            "Арочная": {
                "20х20": 227,
                "40х20": 272,
                "20х20 + 20х20": 314,
                "40х20 + 20х20": 825
            },
            "Каплевидная": { "40х20": 492 },
            "Домиком": {
                "40х20": 483,
                "40х20 + 20х20": 1142
            },
            "Прямостенная": {
                "40х20": 284,
                "40х20 + 20х20": 838
            }
        };

        const heightData = {
            "Арочная": { "2.5 м": 2.1, "3 м": 2.1, "3.5 м": 2.1, "4 м": 2.8 },
            "Прямостенная": { "2.5 м": 2.1, "3 м": 2.1, "3.5 м": 2.1, "4 м": 2.8 },
            "Каплевидная": { "2.5 м": 2.4, "3 м": 2.4, "3.5 м": 2.8 },
            "Домиком": { "2.5 м": 2.2, "3 м": 2.3, "3.5 м": 2.8, "4 м": 2.8 }
        };

        const foundationPrices = {
            "Брус": { "4 м": 4790, "6 м": 6290, "8 м": 7790, "10 м": 9290, "12 м": 10790 },
            "Сваи": { "4 м": 2988, "6 м": 3984, "8 м": 4980, "10 м": 5976, "12 м": 6972 },
            "Без фундамента": { "4 м": 0, "6 м": 0, "8 м": 0, "10 м": 0, "12 м": 0 }
        };

        const assemblyPrices = {
            "Арочная": {
                "2.5 м": { "4 м": 4990, "6 м": 6490, "8 м": 7990, "10 м": 9490 },
                "3 м": { "4 м": 4990, "6 м": 6490, "8 м": 7990, "10 м": 9490 },
                "3.5 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "4 м": { "4 м": 7990, "6 м": 11490, "8 м": 14990, "10 м": 18490 }
            },
            "Каплевидная": {
                "2.5 м": { "4 м": 4990, "6 м": 6490, "8 м": 7990, "10 м": 9490 },
                "3 м": { "4 м": 4990, "6 м": 6490, "8 м": 7990, "10 м": 9490 },
                "3.5 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 }
            },
            "Прямостенная": {
                "2.5 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "3 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "3.5 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "4 м": { "4 м": 7990, "6 м": 11490, "8 м": 14990, "10 м": 18490 }
            },
            "Домиком": {
                "2.5 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "3 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "3.5 м": { "4 м": 5990, "6 м": 7990, "8 м": 9990, "10 м": 11990 },
                "4 м": { "4 м": 7990, "6 м": 11490, "8 м": 14990, "10 м": 18490 }
            }
        };

        // Функция для обновления выбора города
function updateCity() {
    const city = document.getElementById('city').value;
    console.log(`Выбран город: ${city}`);
    // Здесь можно добавить логику для обновления данных в зависимости от города
}

        const typeSelect = document.getElementById('type');
        const widthSelect = document.getElementById('width');
        const frameSelect = document.getElementById('frame');
        const lengthSelect = document.getElementById('length');
        const polycarbonateSelect = document.getElementById('polycarbonate');
        const arcStepSelect = document.getElementById('arcStep');
        const foundationSelect = document.getElementById('foundation');
        const assemblySelect = document.getElementById('assembly');
        const deliveryInput = document.getElementById('delivery');
        const productsList = document.getElementById('products-list');
        const totalPriceDiv = document.getElementById('totalPrice');
        const modal = document.getElementById('modal');
        const modalText = document.getElementById('modalText');
        const passwordModal = document.getElementById('passwordModal');
        const passwordInput = document.getElementById('passwordInput');

        // Проверка авторизации
        const isAuthenticated = localStorage.getItem('authenticated') === 'true';

        if (!isAuthenticated) {
            passwordModal.style.display = 'flex'; // Показываем модальное окно с паролем
        } else {
            document.getElementById('mainContent').style.display = 'block'; // Показываем основной контент
        }

        function checkPassword() {
            const password = passwordInput.value;
            if (password === '7788') {
                localStorage.setItem('authenticated', 'true'); // Сохраняем состояние авторизации
                passwordModal.style.display = 'none'; // Скрываем модальное окно с паролем
                document.getElementById('mainContent').style.display = 'block'; // Показываем основной контент
            } else {
                alert('Неверный пароль!');
            }
        }

        function updateWidthOptions() {
            const type = typeSelect.value;
            widthSelect.innerHTML = '';
            widthOptions[type].forEach(width => {
                const option = document.createElement('option');
                option.value = width;
                option.textContent = width;
                widthSelect.appendChild(option);
            });
            updateFrameOptions();
        }

        // Функция для обновления доступных каркасов
        function updateFrameOptions() {
            const type = typeSelect.value;
            const width = widthSelect.value;
            frameSelect.innerHTML = '';

            let frames = frameOptions[type];
            if (width === "4 м") {
                frames = ["40х20 + 20х20"]; // Ограничение для ширины 4 м
            }

            frames.forEach(frame => {
                const option = document.createElement('option');
                option.value = frame;
                option.textContent = frame;
                frameSelect.appendChild(option);
            });
        }

        // Функция для добавления товара
        function addProduct() {
            const productDiv = document.createElement("div");
            productDiv.className = "product";

            // Выпадающий список для товаров
            const productSelect = document.createElement("select");
            productSelect.innerHTML = `
                <option value="1690">Капельный полив механический</option>
                <option value="4490">Капельный полив автоматический</option>
                <option value="2590">Автомат для форточки</option>
                <option value="1590">Паропропускающая лента</option>
                <option value="1990">Оцинкованная лента</option>
                <option value="1490">Дополнительная форточка</option>
            `;

            // Выпадающий список для количества (1, 2, 3, 4, 5)
            const quantitySelect = document.createElement("select");
            quantitySelect.innerHTML = `
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            `;

            // Кнопка удаления товара
            const removeButton = document.createElement("button");
            removeButton.className = "remove-btn";
            removeButton.innerHTML = '×';
            removeButton.onclick = () => productDiv.remove();

            // Добавляем элементы в контейнер товара
            productDiv.appendChild(productSelect);
            productDiv.appendChild(quantitySelect);
            productDiv.appendChild(removeButton);

            // Добавляем товар в список
            productsList.appendChild(productDiv);
        }

        // Инициализация
        updateWidthOptions();
// Обновляем функцию calculatePrice для учета города
function calculatePrice() {
    const city = document.getElementById('city').value;
    const type = document.getElementById('type').value;
    const width = document.getElementById('width').value;
    const length = document.getElementById('length').value;
    const frame = document.getElementById('frame').value;
    const polycarbonate = document.getElementById('polycarbonate').value;
    const arcStep = parseFloat(document.getElementById('arcStep').value);
    const foundation = document.getElementById('foundation').value;
    const assembly = document.getElementById('assembly').value;
    const delivery = parseInt(document.getElementById('delivery').value) || 0;

    // Ищем теплицу с учетом города
    const match = greenhousesData.find(item =>
        item["Тип теплицы"] === type &&
        item["Ширина"] === width &&
        item["Длина"] === length &&
        item["Каркас"] === frame &&
        item["Тип поликарбоната"] === polycarbonate &&
        item["Город"] === city
    );

    if (match) {
        let basePrice = parseFloat(match["Цена"].replace(" руб.", ""));
        if (arcStep === 0.65) basePrice *= 1.25;

        const foundationPrice = foundationPrices[foundation][length] || 0;
        const assemblyPrice = assembly === "Наша сборка" ? assemblyPrices[type][width][length] || 0 : 0;
        const deliveryPrice = Math.max(1000, delivery * 40);

        let additionalProductsCost = 0;
        document.querySelectorAll("#products-list .product").forEach(product => {
            const productSelect = product.querySelector("select:nth-child(1)");
            const quantitySelect = product.querySelector("select:nth-child(2)");
            const quantity = parseFloat(quantitySelect.value) || 0;
            const price = parseFloat(productSelect.value) || 0;
            additionalProductsCost += quantity * price;
        });

        const totalPrice = basePrice + foundationPrice + assemblyPrice + deliveryPrice + additionalProductsCost;
        totalPriceDiv.innerText = `Итоговая стоимость: ${totalPrice.toFixed(2)} руб`;
    } else {
        totalPriceDiv.innerText = "Теплица с такими параметрами не найдена.";
    }
}

        function showModal() {
            const type = typeSelect.value;
            const width = widthSelect.value;
            const length = lengthSelect.value;
            const frame = frameSelect.value;
            const polycarbonate = polycarbonateSelect.value;
            const arcStep = arcStepSelect.value;
            const foundation = foundationSelect.value;
            const assembly = assemblySelect.value;
            const totalPrice = totalPriceDiv.innerText;

            const ties = tiesData[type][width];
            const snowLoad = snowLoadData[type][frame] || 0;
            const height = heightData[type][width];

            modalText.innerText = `
                ТЕПЛИЦА ${type}
                ☀️ Поликарбонат с защитой от ультрафиолета UV-400
                ⚙️ Цельногнутые дуги из стальной замкнутой трубы
                ⚙️ Каркас из оцинкованной внутри и снаружи стали (полностью защита от ржавчины и коррозии)
                ⚙️ Краб-система на 4 болтах
                ❄️ Не требует подпорок на зиму
                ✏️ Гарантия 15 лет!!!
                -----------------
                Каркас: ${frame}
                Шаг дуги: ${arcStep} м
                Поликарбонат: ${polycarbonate}
                Размеры (ШхДхВ): ${width}х${length}х${height} м
                Снеговая нагрузка: ${snowLoad} кг/м²
                Горизонтальные стяжки: ${ties} шт
                Комплектация: 2 двери, 2 форточки
                Фундамент: ${foundation}
                Сборка: ${assembly}
                -----------------
                Стоимость теплицы со скидкой до ${getFutureDate(6)}: ${totalPrice} (в ст. включены: товарный чек, каркас на краб-системе, поликарбонат, инструкция по сборке)
            `;

            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        function copyText() {
            navigator.clipboard.writeText(modalText.innerText).then(() => {
                alert('Текст скопирован!');
            });
        }

        function getFutureDate(days) {
            const date = new Date();
            date.setDate(date.getDate() + days);
            return date.toLocaleDateString('ru-RU');
        }

        // Инициализация
        updateWidthOptions();
    </script>
</body>
</html>
